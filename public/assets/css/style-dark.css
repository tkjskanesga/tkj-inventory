/* --- Variabel & Gaya untuk Mode Gelap --- */
html.dark {
    color-scheme: dark;

    /* Palet Warna Utama (Mode Gelap) */
    --primary-color: #8ab4f8;
    --primary-color-dark: #3c8bf2;
    --primary-focus-shadow: 0 0 0 4px rgba(138, 180, 248, 0.25);
    
    /* Warna khusus untuk tombol biru agar konsisten */
    --primary-button-bg: #8ab4f8;
    --primary-button-bg-hover: #9ac0f9;
    
    /* Palet Warna Dasar (Mode Gelap) */
    --secondary-color: #282a2d;
    --background-color: #1F1F1F;
    --text-color: #E8EAED;
    --text-color-light: #969BA1;
    --border-color: #444746;
    --card-bg-color: #282a2d;

    /* Warna Status (Mode Gelap) */
    --danger-color: #F28B82;
    --danger-color-light-bg: rgba(242, 139, 130, 0.1);

    /* Properti UI (Mode Gelap) */
    --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2), 0 1px 3px rgba(0, 0, 0, 0.15);
}

/* --- Penyesuaian Komponen Spesifik --- */

html.dark body,
html.dark .header,
html.dark .sidebar,
html.dark .list-item,
html.dark .form-card,
html.dark .modal-content,
html.dark .filter-dropdown__menu,
html.dark .custom-dropdown__options,
html.dark .profile-dropdown__menu {
    background-color: var(--card-bg-color);
    border-color: var(--border-color);
    transition: all var(--transition-speed);
}

/* Aturan khusus untuk kartu di mode gelap */
html.dark .card {
    background-color: var(--card-bg-color);
    /* Hapus border default di mode gelap */
    border: 3px solid transparent;
}


html.dark body {
    background-color: var(--background-color);
}

html.dark .profile-dropdown__item {
    transition: all var(--transition-speed);
}

html.dark .close-sidebar-btn:hover,
html.dark .sidebar__nav .nav__link:hover,
html.dark .theme-toggle:hover,
html.dark .hamburger:hover,
html.dark .profile-dropdown__toggle:hover,
html.dark .profile-dropdown__item:hover {
    background-color: #3c4043;
}
html.dark .profile-dropdown__item.is-logout:hover {
    background-color: var(--danger-color-light-bg);
}

html.dark .page__header .page-title {
    background-color: var(--card-bg-color);
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

html.dark .search-bar input,
html.dark .form-group input, 
html.dark .form-group select {
    background-color: #3c4043;
    border-color: var(--border-color);
    color: var(--text-color);
}
html.dark .search-bar input::placeholder,
html.dark .form-group input::placeholder {
    color: var(--text-color-light);
}
html.dark .search-bar input:focus,
html.dark .form-group input:focus, 
html.dark .form-group select:focus {
    background-color: #3c4043;
}

html.dark .btn-secondary {
    background-color: #3c4043 !important;
    color: var(--text-color);
    border-color: var(--border-color);
}
html.dark .btn-secondary:hover {
    background-color: #4e5256;
}

html.dark .btn-primary,
html.dark .fab,
html.dark #filterBtn.filter-all,
html.dark #accountFilterBtn.filter-all {
    background-color: var(--primary-button-bg);
    color: #202124;
    font-weight: 600;
}
html.dark .btn-primary:hover,
html.dark .fab:hover,
html.dark #filterBtn.filter-all:hover,
html.dark #accountFilterBtn.filter-all:hover {
     background-color: var(--primary-button-bg-hover);
}

html.dark .action-dropdown__menu a:hover{
    background-color: #3c4043;
}

html.dark .filter-dropdown__menu li:hover {
    background-color: #3c4043;
}

html.dark .see-proof-btn {
    background-color: var(--success-color);
    color: #202124;
}
html.dark .see-proof-btn:hover {
    background-color: var(--success-color-dark);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

html.dark #filterBtn.filter-available,
html.dark #accountFilterBtn.filter-available,
html.dark #filterBtn.filter-empty,
html.dark .btn-danger,
html.dark .btn-success {
    color: #202124; 
    font-weight: 600;
}

html.dark .custom-dropdown__selected {
    background-color: #3c4043;
    border-color: var(--border-color);
}
html.dark .custom-dropdown__option:hover {
    background-color: #3c4043;
}
html.dark .calendar-select {
    background-color: #3c4043;
    border-color: var(--border-color);
    color: var(--text-color);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23E8EAED' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
}
html.dark .calendar-header__nav:hover {
    background-color: #3c4043;
}

html.dark .image-uploader {
    background-color: #35363a;
    border-color: var(--border-color);
}
html.dark .image-uploader:hover, 
html.dark .image-uploader.drag-over {
    border-color: var(--primary-color);
    background-color: #3c4043;
}
html.dark .image-uploader__preview {
    background-color: var(--card-bg-color);
}

html.dark .modal {
    background-color: rgba(0,0,0,0.7);
}
html.dark .modal-header,
html.dark .modal-footer,
html.dark .sidebar__header,
html.dark .sidebar__footer {
    border-color: var(--border-color);
}

html.dark .loading-overlay {
    background-color: rgba(31, 31, 31, 0.5);
}

html.dark .notification {
    box-shadow: 0 5px 15px rgba(0,0,0,0.4);
}
html.dark .notification.success,
html.dark .notification.error {
     color: #202124; 
     font-weight: 500;
}
html.dark .notification.success {
    background-color: var(--success-color);
}
html.dark .notification.error {
    background-color: var(--danger-color);
}

html.dark .card__quantity-chip {
    background-color: var(--primary-color);
    color: #202124;
    font-weight: 700;
}

/* Penyesuaian untuk Kartu yang Dipilih dalam Mode Gelap */
html.dark .card.is-selected {
    border-color: var(--primary-color);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
}

html.dark .card.is-selected .card__selection-icon {
    color: #4285f4;
}

html.dark .fab {
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}

html.dark ::-webkit-scrollbar-thumb {
    background-color: #444746;
}
html.dark ::-webkit-scrollbar-thumb:hover {
    background-color: #5f6368;
}

html.dark .date-separator__badge {
    background-color: #3c4043;
    border-color: var(--border-color);
}